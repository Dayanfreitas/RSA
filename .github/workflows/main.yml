name: Ruby

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  run:
    name: Ruby 
    runs-on: ${{ matrix.operating-system }}
    strategy:
      matrix:
        operating-system: [ubuntu-latest, windows-latest ]
        version: [2.5.x, 2.6, 2.7.x, 3.0]
    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: use-ruby ${{ matrix.version }}
      uses: ./
      with:
        ruby-version: ${{ matrix.version}}

    - name: ruby version
      run: ruby -v
      # - name: Install dependencies
      #   run: bundle install
      # - name: Run tests
      #   run: ruby test/all_test.rb